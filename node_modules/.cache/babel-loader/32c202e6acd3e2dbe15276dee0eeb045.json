{"ast":null,"code":"var _jsxFileName = \"/home/alexandre/personalProjects/eeld-react/src/components/detail/ClassTeam.js\";\nimport React from 'react';\nimport api from '../../services/api';\n\nclass ClassTeam extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getStudents = () => {\n      api.get('/allStudents').then(resp => {\n        this.setState({\n          allStudents: resp.data\n        });\n      });\n    };\n\n    this.getStudentsOfClassTeam = () => {\n      api.get('/classTeams/' + this.state.id_turma).then(resp => {\n        const idStudents = resp.data.students;\n        let studentsDetails = [];\n        idStudents.map(idStu => {\n          api.get('/students/' + idStu).then(student => {\n            //this.setState({studentsOfTheClassTeam:studentsDetails})\n            studentsDetails.push(student.data);\n            this.setState({\n              studentsOfTheClassTeam: studentsDetails\n            });\n          });\n        });\n      });\n    };\n\n    this.enrollNewStudent = event => {\n      api.post('/classTeams/addStudent', {\n        student_id: event.target.value,\n        classTeam_id: this.state.id_turma\n      }).then(resp => {\n        this.getStudentsOfClassTeam();\n      });\n    };\n\n    this.deleteStudent = event => {\n      api.post('/classTeams/removeStudent', {\n        student_id: event.target.value,\n        classTeam_id: this.state.id_turma\n      }).then(resp => {\n        this.getStudentsOfClassTeam();\n      });\n    };\n\n    this.state = {\n      id_turma: this.props.match.params.id,\n      turmaDetail: {},\n      allStudents: [],\n      studentsOfTheClassTeam: [],\n      totalStudents: '',\n      lastStudent: ''\n    };\n  }\n\n  componentDidMount() {\n    this.getStudents();\n    this.getStudentsOfClassTeam();\n  }\n\n  render() {\n    //renderiza o cadastro apenas se o numero de alunos for menor ou igual a 12\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Alunos da turma\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"bg-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Total de alunos: \", this.state.studentsOfTheClassTeam.length), \"Adicionar alunos na turma\"), React.createElement(\"select\", {\n      onChange: this.enrollNewStudent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), this.state.allStudents.map(student => React.createElement(\"option\", {\n      value: student._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, student.name)))), React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"ID\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Nome Turma\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"A\\xE7\\xF5es\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, this.state.studentsOfTheClassTeam.map(student => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, student._id), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, student.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: this.deleteStudent,\n      value: student._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Remover da turma\")))))));\n  }\n\n}\n\nexport default ClassTeam;","map":{"version":3,"sources":["/home/alexandre/personalProjects/eeld-react/src/components/detail/ClassTeam.js"],"names":["React","api","ClassTeam","Component","constructor","props","getStudents","get","then","resp","setState","allStudents","data","getStudentsOfClassTeam","state","id_turma","idStudents","students","studentsDetails","map","idStu","student","push","studentsOfTheClassTeam","enrollNewStudent","event","post","student_id","target","value","classTeam_id","deleteStudent","match","params","id","turmaDetail","totalStudents","lastStudent","componentDidMount","render","length","_id","name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport api from '../../services/api'\n\n\n\nclass ClassTeam extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      id_turma:this.props.match.params.id,\n      turmaDetail:{},\n      allStudents:[],\n      studentsOfTheClassTeam:[],\n      totalStudents:'',\n      lastStudent:'',\n    }\n  }\n  \n  getStudents = () =>{\n    api.get('/allStudents').then((resp)=>{\n      this.setState({allStudents:resp.data})\n    })\n  }\n    getStudentsOfClassTeam = () =>{\n        api.get('/classTeams/'+this.state.id_turma).then((resp)=>{\n          const idStudents = resp.data.students;\n          \n          let studentsDetails = []; \n          idStudents.map((idStu)=>{\n            api.get('/students/'+idStu).then((student)=>{\n              //this.setState({studentsOfTheClassTeam:studentsDetails})\n              studentsDetails.push(student.data);\n              this.setState({studentsOfTheClassTeam:studentsDetails})\n            })\n          });\n        })\n      }\n\n    enrollNewStudent = (event) => {\n     api.post('/classTeams/addStudent', {\n          student_id:event.target.value, classTeam_id:this.state.id_turma \n        }).then((resp)=>{\n          this.getStudentsOfClassTeam();\n        })\n      }\n\n    componentDidMount(){\n      this.getStudents();\n      this.getStudentsOfClassTeam();\n    }\n\n    deleteStudent = (event) =>{\n      api.post('/classTeams/removeStudent', {student_id:event.target.value,classTeam_id:this.state.id_turma }).then((resp)=>{\n        this.getStudentsOfClassTeam();\n      })\n     \n  }\n    render (){\n      //renderiza o cadastro apenas se o numero de alunos for menor ou igual a 12\n        return <div>\n              <h2>Alunos da turma</h2>\n                    <br/>\n                    <div>\n                        <p><p className=\"bg-success\">Total de alunos: {\n                          this.state.studentsOfTheClassTeam.length\n                        }</p>\n                        Adicionar alunos na turma \n                        </p>\n                      <select onChange={this.enrollNewStudent}>\n                        <option></option>\n                      {\n                        this.state.allStudents.map((student)=>(\n                        <option value={student._id}>{student.name}</option>\n                        ))\n                      }\n                      </select>\n                    </div>\n\n                  <table className=\"table\">\n                  <thead>\n                    <tr>\n                      <th scope=\"col\">ID</th>\n                      <th scope=\"col\">Nome Turma</th>\n                      <th scope=\"col\">Ações</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {\n                      this.state.studentsOfTheClassTeam.map((student)=>(\n                      <tr>\n                        <th scope=\"row\">{student._id}</th>\n                        <td>{student.name}</td>\n                        <td>\n                            <button className=\"btn btn-danger\" onClick={this.deleteStudent} value={student._id}>Remover da turma</button>\n                        </td>\n                    </tr>\n                      ))\n                    }\n                  </tbody>\n                </table> \n                </div>  \n      \n    }\n}\n\nexport default ClassTeam"]},"metadata":{},"sourceType":"module"}